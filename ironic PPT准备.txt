使用PXE,IPML驱动来管理物理主机
	PXE:远程下载系统安装
	IPMI:管理电源

为什么要部署裸机：
    1：High-performance computing clusters
    2：Computing tasks that require access to hardware devices which can’t be virtualized
    3：Database hosting (some databases run poorly in a hypervisor)
    4：Single tenant, dedicated hardware for performance, security, dependability and other regulatory requirements
    5：Or, rapidly deploying a cloud infrastructure


ironic由以下几个组件组成：
    1：a RESTful API service, by which operators and other services may interact with the managed bare metal servers.
    2：a Conductor service, which does the bulk of the work. Functionality is exposed via the API service. The Conductor and API services communicate via RPC.
    3：various Drivers that support heterogeneous hardware
    4：a Message Queue
    5：a Database for storing information about the resources. Among other things, this includes the state of the conductors, nodes (physical servers), and drivers.


ironic中使用到的一些关键的技术：
	1：Preboot Execution Environment (PXE)
	2：Dynamic Host Configuration Protocol (DHCP)
	3：Network Bootstrap Program (NBP)
	4：Trivial File Transfer Protocol (TFTP)
	5：Intelligent Platform Management Interface (IPMI)


ironic部署裸机之前所需要具备的条件：
	1：Dependent packages to be configured on the Bare Metal service node(s) where ironic-conductor is running like tftp-server, ipmi, syslinux etc for bare metal provisioning.
	2：Nova must be configured to make use of the bare metal service endpoint and compute driver should be configured to use ironic driver on the Nova compute node(s).
	3：Flavors to be created for the available hardware. Nova must know the flavor to boot from.
	4：Images to be made available in Glance. Listed below are some image types required for successful bare metal deployment:
		bm-deploy-kernel
        bm-deploy-ramdisk
        user-image
        user-image-vmlinuz
        user-image-initrd
    5：Hardware to be enrolled via Ironic RESTful API service.


ironic部署裸机的过程简要概述：
	1：A boot instance request comes in via the Nova API, through the message queue to the Nova scheduler.
	2：Nova scheduler applies filter and finds the eligible compute node. Nova scheduler uses flavor extra_specs detail such as ‘cpu_arch’, ‘baremetal:deploy_kernel_id’, ‘baremetal:deploy_ramdisk_id’ etc to match the target physical node.
	3：A spawn task is placed by the driver which contains all information such as which image to boot from etc. It invokes the driver.spawn from the virt layer of Nova compute.
	4：Information about the bare metal node is retrieved from the bare metal database and the node is reserved.
	5：Images from Glance are pulled down to the local disk of the Ironic conductor servicing the bare metal node.
        	For pxe_* drivers these include all images: both the deploy ramdisk and user instance images.
        	For agent_* drivers only the deploy ramdisk is stored locally. Temporary URLs in OpenStack’s Object Storage service are created for user instance images.
    6：Virtual interfaces are plugged in and Neutron API updates DHCP port to support PXE/TFTP options.
    7：Nova’s ironic driver issues a deploy request via the Ironic API to the Ironic conductor servicing the bare metal node.
    8：PXE driver prepares tftp bootloader.
    9：The IPMI driver issues command to enable network boot of a node and power it on.
    10：The DHCP boots the deploy ramdisk. Next, depending on the exact driver used, either the conductor copies the image over iSCSI to the physical node (pxe_* group of drivers) or the deploy ramdisk downloads the image from a temporary URL (agent_* group of drivers), which can be generated by a variety of object stores, e.g. swift, radosgw, etc, and uploaded to OpenStack’s Object Storage service. In the former case, the conductor connects to the iSCSI end point, partitions volume, “dd” the image and closes the iSCSI connection.
    11：The deployment is done. The Ironic conductor will switch pxe config to service mode and notify ramdisk agent on the successful deployment.
    12：The IPMI driver reboots the bare metal node. Note that there are 2 power cycles during bare metal deployment; the first time when powered-on, the images get deployed as mentioned in step 9. The second time as in this case, after the images are deployed, the node is powered up.
    13：The bare metal node status is updated and the node instance is made available.




部署过程
多租户简介
